
<!DOCTYPE html>
<html lang="en">
<head>
  <link href='//fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700,400italic' rel='stylesheet' type='text/css'>

    <link rel="stylesheet" type="text/css" href="../theme/stylesheet/style.min.css">

  <link rel="stylesheet" type="text/css" href="../theme/pygments/github.min.css">
  <link rel="stylesheet" type="text/css" href="../theme/font-awesome/css/font-awesome.min.css">

    <link href="../static/custom.css" rel="stylesheet">



    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/images/favicon.ico" type="image/x-icon">

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="" />

    <!-- Chrome, Firefox OS and Opera -->
    <meta name="theme-color" content="#333333">
    <!-- Windows Phone -->
    <meta name="msapplication-navbutton-color" content="#333333">
    <!-- iOS Safari -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="author" content="János K. Divényi" />
    <meta name="description" content="" />
<meta property="og:site_name" content="Divenyi"/>
<meta property="og:type" content="blog"/>
<meta property="og:title" content="Divenyi"/>
<meta property="og:description" content=""/>
<meta property="og:locale" content="en_US"/>
<meta property="og:url" content=".."/>
<meta property="og:image" content="../images/divenyi_circle_small.png">

  <title>Divenyi &ndash; <span class="caps">DA</span> Homework&nbsp;3</title>

</head>
<body>
  <aside>
    <div>
      <a href="..">
        <img src="../images/divenyi_circle_small.png" alt="János K. Divényi" title="János K. Divényi">
      </a>
      <h1><a href="..">János K. Divényi</a></h1>

<p>data scientist</p>
      <nav>
        <ul class="list">
          <li><a href="../pages/about-me.html#about-me">about&nbsp;me</a></li>
          <li><a href="../pages/research.html#research">research</a></li>
          <li><a href="../pages/talks.html#talks">talks</a></li>
          <li><a href="../pages/teaching.html#teaching">teaching</a></li>

        </ul>
      </nav>

      <ul class="social">
        <li><a class="sc-linkedin" href="http://hu.linkedin.com/in/janosdivenyi" target="_blank"><i class="fa fa-linkedin"></i></a></li>
        <li><a class="sc-twitter" href="https://twitter.com/divenyijanos" target="_blank"><i class="fa fa-twitter"></i></a></li>
        <li><a class="sc-github" href="https://github.com/divenyijanos" target="_blank"><i class="fa fa-github"></i></a></li>
        <li><a class="sc-stack-overflow" href="https://stackoverflow.com/users/3409615/janosdivenyi" target="_blank"><i class="fa fa-stack-overflow"></i></a></li>
      </ul>
    </div>


  </aside>
  <main>


<article class="single">
  <header>
    <h1 id="da-homework-3"><span class="caps">DA</span> Homework&nbsp;3</h1>
  </header>
  <div>
    <h2>Task&nbsp;0</h2>
<p>Download the <code>purchases.csv</code> from the data section. This sample data contains
purchases from an online store.
Load the data into R and check whether the type of your variables are correct
(e.g. <code>purchase_date</code> should be of type&nbsp;&#8220;Date&#8221;).</p>
<div class="highlight"><pre><span></span>## Parsed with column specification:
## cols(
##   contact_id = col_integer(),
##   purchase_date = col_date(format = &quot;&quot;),
##   sales = col_double(),
##   year = col_integer(),
##   month = col_integer()
## )
</pre></div>


<h2>Task&nbsp;1</h2>
<p>Plot the histogram of all the log&nbsp;sales.</p>
<div class="highlight"><pre><span></span>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
</pre></div>


<p><img alt="plot of chunk hist" src="../figure/hist-1.png"></p>
<h2>Task&nbsp;2</h2>
<p>Plot the distributions of log sales amounts for the two years separately.
Check <code>geom_density</code> in the <a href="http://docs.ggplot2.org/current/">documentation</a> of
<code>ggplot2</code>. Here is what you should&nbsp;get.</p>
<p><img alt="plot of chunk distr_year" src="../figure/distr_year-1.png"></p>
<h2>Task&nbsp;3</h2>
<p>Plot the aggregate daily sales.
Add a smoothed line to the plot (you can experiment with the <code>span</code> option of
<code>geom_smooth()</code> to control the smoothness of your&nbsp;line).</p>
<p>Default:</p>
<div class="highlight"><pre><span></span>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
</pre></div>


<p><img alt="plot of chunk smooth" src="../figure/smooth-1.png"></p>
<p>With <code>span = 0.2</code>:</p>
<div class="highlight"><pre><span></span>## `geom_smooth()` using method = &#39;loess&#39; and formula &#39;y ~ x&#39;
</pre></div>


<p><img alt="plot of chunk smooth02" src="../figure/smooth02-1.png"></p>
<h2>Task&nbsp;4</h2>
<p>Which month brings the most sales? Plot a bar graph with aggregate sales per
month. Look at the documentation of <code>geom_bar()</code> to solve this. Note the labels
of the x axis (the documentation helps to&nbsp;reproduce).</p>
<p><img alt="plot of chunk bar_month" src="../figure/bar_month-1.png"></p>
<h2>Task&nbsp;5</h2>
<p>Recreate the previous graph by drawing the columns separately for the years
(map the year variable to the fill of the bars and see the examples in the
documentation to achieve side-by-side&nbsp;bars).</p>
<p><img alt="plot of chunk bar_month_year" src="../figure/bar_month_year-1.png"></p>
<h2>Task&nbsp;6</h2>
<p>We have seen that the aggregate sales are lower in 2013 than in 2012. Which year
has higher average sales amount? Plot a bar graph with average sales per year and
add error bars with two times the standard deviation (do not forget to adjust by the number of observations).
You can add error bars by using the <code>geom_errorbar()</code> function of <code>ggplot2</code>. 
(I use the &#8220;lightblue&#8221; color to fill the bars in order to make the error bars more&nbsp;visible.)</p>
<p><img alt="plot of chunk bar_year_error" src="../figure/bar_year_error-1.png"></p>
<h2>Task&nbsp;+1</h2>
<p>Watch <a href="http://www.ted.com/talks/david_mccandless_the_beauty_of_data_visualization?language=en">this video</a>
and collect 3 positive (or negative) points about the&nbsp;presentation.</p>
  </div>
</article>

    <footer>
<p>&copy; János K. Divényi </p>
<p>    Powered by <a href="http://getpelican.com" target="_blank">Pelican</a> - <a href="https://github.com/alexandrevicenzi/flex" target="_blank">Flex</a> theme by <a href="http://alexandrevicenzi.com" target="_blank">Alexandre Vicenzi</a>
</p>    </footer>
  </main>

<!-- Google Analytics -->
<script type="text/javascript">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-85196661-1', 'auto');
  ga('send', 'pageview');
</script>
<!-- End Google Analytics -->



<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " Divenyi ",
  "url" : "..",
  "image": "../images/divenyi_circle_small.png",
  "description": ""
}
</script>
</body>
</html>