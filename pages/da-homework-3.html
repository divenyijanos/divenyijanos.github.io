<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title><span class="caps">DA</span> Homework&nbsp;3</title>
        <link rel="stylesheet" href="../theme/css/main.css" />

        <!--[if IE]>
            <script src="https://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="../">János K. Divényi </a></h1>
                <nav><ul>
                    <li><a href="../pages/about-me.html">about&nbsp;me</a></li>
                    <li><a href="../pages/research.html">research</a></li>
                    <li><a href="../pages/teaching.html">teaching</a></li>
                    <li><a href="../category/blog.html">blog</a></li>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
    <h1 class="entry-title"><span class="caps">DA</span> Homework&nbsp;3</h1>
    
    <h2>Task&nbsp;0</h2>
<p>Download the <code>purchases.csv</code> from the data section. This sample data contains
purchases from an online store.
Load the data into R and check whether the type of your variables are correct
(e.g. <code>purchase_date</code> should be of type&nbsp;&#8220;Date&#8221;).</p>
<div class="highlight"><pre><span></span>## Parsed with column specification:
## cols(
##   contact_id = col_integer(),
##   purchase_date = col_date(format = &quot;&quot;),
##   sales = col_double(),
##   year = col_integer(),
##   month = col_integer()
## )
</pre></div>


<h2>Task&nbsp;1</h2>
<p>Plot the histogram of all the log&nbsp;sales.</p>
<div class="highlight"><pre><span></span>## `stat_bin()` using `bins = 30`. Pick better value with `binwidth`.
</pre></div>


<p><img alt="plot of chunk hist" src="../figure/hist-1.png" /></p>
<h2>Task&nbsp;2</h2>
<p>Plot the distributions of log sales amounts for the two years separately.
Check <code>geom_density</code> in the <a href="http://docs.ggplot2.org/current/">documentation</a> of
<code>ggplot2</code>. Here is what you should&nbsp;get.</p>
<p><img alt="plot of chunk distr_year" src="../figure/distr_year-1.png" /></p>
<h2>Task&nbsp;3</h2>
<p>Plot the aggregate daily sales.
Add a smoothed line to the plot (you can experiment with the <code>span</code> option of
<code>geom_smooth()</code> to control the smoothness of your&nbsp;line).</p>
<p>Default:</p>
<div class="highlight"><pre><span></span>## `geom_smooth()` using method = &#39;loess&#39;
</pre></div>


<p><img alt="plot of chunk smooth" src="../figure/smooth-1.png" /></p>
<p>With <code>span = 0.2</code>:</p>
<div class="highlight"><pre><span></span>## `geom_smooth()` using method = &#39;loess&#39;
</pre></div>


<p><img alt="plot of chunk smooth02" src="../figure/smooth02-1.png" /></p>
<h2>Task&nbsp;4</h2>
<p>Which month brings the most sales? Plot a bar graph with aggregate sales per
month. Look at the documentation of <code>geom_bar()</code> to solve this. Note the labels
of the x axis (the documentation helps to&nbsp;reproduce).</p>
<p><img alt="plot of chunk bar_month" src="../figure/bar_month-1.png" /></p>
<h2>Task&nbsp;5</h2>
<p>Recreate the previous graph by drawing the columns separately for the years
(map the year variable to the fill of the bars and see the examples in the
documentation to achieve side-by-side&nbsp;bars).</p>
<p><img alt="plot of chunk bar_month_year" src="../figure/bar_month_year-1.png" /></p>
<h2>Task&nbsp;6</h2>
<p>We have seen that the aggregate sales are lower in 2013 than in 2012. Which year
has higher average sales amount? Plot a bar graph with average sales per year and
add error bars with two times the standard deviation (do not forget to adjust by the number of observations).
You can add error bars by using the <code>geom_errorbar()</code> function of <code>ggplot2</code>. 
(I use the &#8220;lightblue&#8221; color to fill the bars in order to make the error bars more&nbsp;visible.)</p>
<p><img alt="plot of chunk bar_year_error" src="../figure/bar_year_error-1.png" /></p>
<h2>Task&nbsp;+1</h2>
<p>Watch <a href="http://www.ted.com/talks/david_mccandless_the_beauty_of_data_visualization?language=en">this video</a>
and collect 3 positive (or negative) points about the&nbsp;presentation.</p>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="">This webpage is still under construction.</a></li>
                            <li><a href="">Please excuse any incoherence or roughness.</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>

                            <li><a href="https://github.com/divenyijanos">GitHub</a></li>
                            <li><a href="http://hu.linkedin.com/in/janosdivenyi">LinkedIn</a></li>
                            <li><a href="http://stackoverflow.com/users/3409615/janosdivenyi">Stack Overflow</a></li>
                            <li><a href="https://twitter.com/divenyijanos">Twitter</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
                </address><!-- /#about -->

                <p>The theme is by <a href="http://coding.smashingmagazine.com/2009/08/04/designing-a-html-5-layout-from-scratch/">Smashing Magazine</a>, thanks!</p>
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-85196661-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = 'https://ssl.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>
</html>